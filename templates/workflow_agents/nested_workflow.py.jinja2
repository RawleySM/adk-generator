"""{{ description }}"""

from google.adk.agents import LlmAgent, SequentialAgent, LoopAgent, ParallelAgent
{% if has_tools %}
from .tools import all_tools
{% endif %}

# Define LLM sub-agents
{% for agent in llm_agents %}
{{ agent.name }} = LlmAgent(
    name="{{ agent.name }}",
    model="{{ agent.model }}",
    instruction="""{{ agent.instruction }}""",
    description="{{ agent.description }}",
    {% if agent.tools %}
    tools={{ agent.tools }},
    {% endif %}
    {% if agent.output_key %}
    output_key="{{ agent.output_key }}",
    {% endif %}
)

{% endfor %}

# Define workflow sub-agents
{% for workflow in workflow_agents %}
{{ workflow.name }} = {{ workflow.type }}(
    name="{{ workflow.name }}",
    sub_agents=[
        {% for sub_agent in workflow.sub_agents %}
        {{ sub_agent }},
        {% endfor %}
    ],
    {% if workflow.max_iterations %}
    max_iterations={{ workflow.max_iterations }},
    {% endif %}
    description="{{ workflow.description }}"
)

{% endfor %}

# Create root workflow agent
root_agent = {{ root_type }}(
    name="{{ agent_name }}",
    sub_agents=[
        {% for agent in root_sub_agents %}
        {{ agent }},
        {% endfor %}
    ],
    {% if root_max_iterations %}
    max_iterations={{ root_max_iterations }},
    {% endif %}
    description="{{ description }}"
)
